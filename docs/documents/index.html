
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Async ODM for MongoDB.">
      
      
        <meta name="author" content="Gustavo F. Meneses Perez">
      
      
        <link rel="canonical" href="https://github.com/gurcuff91/mongotoy/docs/documents/">
      
      
        <link rel="prev" href="../../quick_start/">
      
      
        <link rel="next" href="../data_types/">
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15">
    
    
      
        <title>Documents - Mongotoy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#defining-documents" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mongotoy" class="md-header__button md-logo" aria-label="Mongotoy" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mongotoy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Documents
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gurcuff91/mongotoy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gurcuff91/mongotoy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../quick_start/" class="md-tabs__link">
        
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Docs

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mongotoy" class="md-nav__button md-logo" aria-label="Mongotoy" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Mongotoy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gurcuff91/mongotoy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    gurcuff91/mongotoy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Docs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Documents
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Documents
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#defining-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Defining documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-collection-name" class="md-nav__link">
    <span class="md-ellipsis">
      The collection name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-id-field" class="md-nav__link">
    <span class="md-ellipsis">
      The id field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-embedded-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Defining embedded documents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dumping-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Dumping documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dumping documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dump-as-dict" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-as-json" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-as-bson" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as bson
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#defining-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Defining documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-collection-name" class="md-nav__link">
    <span class="md-ellipsis">
      The collection name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-id-field" class="md-nav__link">
    <span class="md-ellipsis">
      The id field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-embedded-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Defining embedded documents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dumping-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Dumping documents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dumping documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dump-as-dict" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-as-json" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dump-as-bson" class="md-nav__link">
    <span class="md-ellipsis">
      Dump as bson
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Documents</h1>

<style>
    .md-typeset h1{
        display: none;
    }
    .md-sidebar--primary {
        width: 8rem;
    }
</style>

<h2 id="defining-documents">Defining documents</h2>
<p>Defining documents in Mongotoy is straightforward. Simply inherit from <code>mongotoy.Document</code> class and define your class
attributes similarly to how you would define a <a href="https://docs.python.org/3/library/dataclasses.html">Python dataclass</a>. 
In this example, each class attribute represents a field in the database, and the class itself corresponds 
to a collection:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">mongotoy</span> <span class="kn">import</span> <span class="n">Document</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">age</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">dob</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Attention</p>
<p>When defining class attributes, it's crucial to specify their <strong>types</strong>. Mongotoy utilizes these <em>type annotations</em> 
to generate <strong>fields</strong> accordingly. Attributes <em>without type annotations</em> will be ignored and treated as regular
class fields.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, Mongotoy does <strong>not require</strong> any field values to be specified during document creation, aligning with
MongoDB's schemaless nature. Unspecified field values are set to <code>mongotoy.expressions.EmptyValue</code>, and Mongotoy 
only validates the values of fields that have been explicitly specified. The exception to this rule is the <code>id</code> field,
which must have at least one default value defined either through the <code>default</code> or <code>default_factory</code> properties.</p>
</div>
<h3 id="the-collection-name">The collection name</h3>
<p>By default, Mongotoy pluralizes the lowercase class name to determine the collection name. So, in this 
case, the collection name will be <code>persons</code>. </p>
<p>Additionally, you can specify a custom collection name by defining the <code>__collection_name__</code> property within the class:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">mongotoy</span> <span class="kn">import</span> <span class="n">Document</span>


<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Document</span><span class="p">):</span>
    <span class="n">__collection_name__</span> <span class="o">=</span> <span class="s1">&#39;users&#39;</span>
</code></pre></div></td></tr></table></div>
<h3 id="the-id-field">The id field</h3>
<p>In Mongotoy, the <code>id</code> field is essential in every document, acting as the primary key to ensure unique identification. 
You can define the id field using the <code>mongotoy.field()</code> function, as explained in the 
<a href="/gurcuff91/mongotoy/docs/fields">fields section</a>. If you create a new document without explicitly
specifying an <code>id</code> field, Mongotoy automatically generates one and assigns a <code>bson.ObjectId</code> type to it. 
This unique identifier simplifies document management and facilitates efficient querying within MongoDB collections.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All classes derived from <code>mongotoy.Document</code> come with an <code>id</code> property, which provides access to the document's ID 
field. To retrieve the ID field of a <code>Person</code> document, simply access it using <code>Person.id</code>. Similarly, to access the ID
field value of a <code>Person</code> instance, use <code>person.id</code>.</p>
</div>
<h3 id="configuration">Configuration</h3>
<p>Mongotoy offers document-level configuration for various settings, including indexes, capped collection options, 
timeseries collection options, codec options, read preference, read concern, write concern, and additional 
MongoDB collection options.</p>
<p>Configuration params:</p>
<ul>
<li><strong>indexes</strong>: List of indexes for the document.</li>
<li><strong>capped</strong>: Indicates if the collection is capped (default is False).</li>
<li><strong>capped_size</strong>: The maximum size of the capped collection in bytes (default is 16 MB).</li>
<li><strong>capped_max</strong>: The maximum number of documents allowed in a capped collection (default is None).</li>
<li><strong>timeseries_field</strong>: The field name to use as the time field for timeseries collections (default is None).</li>
<li><strong>timeseries_meta_field</strong>: The field name for metadata in timeseries collections (default is None).</li>
<li><strong>timeseries_granularity</strong>: The granularity of time intervals.</li>
<li><strong>timeseries_expire_after_seconds</strong>: The expiration time for documents in a timeseries collection, in seconds.</li>
<li><strong>codec_options</strong>: The BSON codec options (default is None).</li>
<li><strong>read_preference</strong>: The read preference for the document (default is None).</li>
<li><strong>read_concern</strong>: The read concern for the document (default is None).</li>
<li><strong>write_concern</strong>: The write concern for the document (default is None).</li>
<li><strong>extra_options</strong>: Extra options for the collection creation (default is an empty dictionary).</li>
</ul>
<p>All of these configurations apply only at the document collection level and do not affect the rest of the 
database collections.</p>
<h2 id="defining-embedded-documents">Defining embedded documents</h2>
<p>An <em>embedded document</em> serves as a container for defining complex object types that are nested within other 
documents. Unlike <em>documents</em>, <em>embedded documents</em> do not represent individual collections in the database. 
Instead, they are used to encapsulate related data fields within a parent document, allowing for more structured and 
organized data models.</p>
<p>Mongotoy supports the creation of embedded documents by inheriting from <code>mongotoy.EmbeddedDocument</code> and defining your 
class attributes in a manner similar to how you would define a <a href="#documents">Document</a>. Here's a quick example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">mongotoy</span> <span class="kn">import</span> <span class="n">EmbeddedDocument</span>


<span class="k">class</span> <span class="nc">Address</span><span class="p">(</span><span class="n">EmbeddedDocument</span><span class="p">):</span>
    <span class="n">street</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">zipcode</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
<h2 id="dumping-documents">Dumping documents</h2>
<p>Mongotoy simplifies the process of exporting document data by offering three distinct methods: 
<code>dump_dict</code>, <code>dump_json</code>, and <code>dump_bson</code>. These three methods offer flexibility, allowing you to choose the
appropriate format based on needs and integration requirements.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>dump_json</code> and <code>dump_bson</code> methods only prepares data for compatibility with JSON and BSON formats respectively. 
However, they don't perform serialization themselves, to fully serialize the data you'll need to use an 
appropriate third-party library.</p>
</div>
<h3 id="dump-as-dict">Dump as dict</h3>
<p>The <code>dump_dict</code> method converts document data into a Python dictionary format, facilitating integration with
Python-based workflows and applications. It supports the following customization parameters to tailor the output 
according to specific requirements.</p>
<ul>
<li><strong>by_alias</strong>: Dumping by fields aliases. (default is False)</li>
<li><strong>exclude_empty</strong>: Exclude fields with empty values from the output. (default is False)</li>
<li><strong>exclude_null</strong>: Exclude fields with null values from the output. (default is False)</li>
</ul>
<h3 id="dump-as-json">Dump as json</h3>
<p>The <code>dump_json</code> method export the document data in a format compatible with JSON, facilitating
interoperability with various systems and services supporting JSON data exchange. It supports the following
customization parameters to tailor the output according to specific requirements.</p>
<ul>
<li><strong>by_alias</strong>: Dumping by fields aliases. (default is False)</li>
<li><strong>exclude_null</strong>: Exclude fields with null values from the output. (default is False)</li>
</ul>
<h3 id="dump-as-bson">Dump as bson</h3>
<p>The <code>dump_bson</code> method export the document data in a format compatible with BSON for seamless interaction 
with MongoDB database. It supports the following customization parameters to tailor the output 
according to specific requirements.</p>
<ul>
<li><strong>by_alias</strong>: Dumping by fields aliases. (default is True)</li>
<li><strong>exclude_null</strong>: Exclude fields with null values from the output. (default is False)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>dump_json</code> and <code>dump_bson</code> methods exclude empty values from the output, unlike <code>dump_dict</code>, which includes 
them optionally.</p>
</div>
<p>Through these versatile dumping methods, Mongotoy empowers you to work with document data in various formats,
catering to diverse data processing and integration requirements. Whether it's within Python environments, 
interoperating with JSON-compatible systems, or interacting with MongoDB databases, Mongotoy provides the 
flexibility and compatibility needed for efficient data management and integration.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.tabs", "navigation.indexes", "search.suggest", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
    
  </body>
</html>